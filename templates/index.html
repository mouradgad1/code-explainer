<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | Code Explainer</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='auth.css') }}">
</head>
<body>
  <div class="auth-container">
    <div class="form-box" id="login-box">
      <h2>Login</h2>
      <form onsubmit="return handleLogin(event)">
        <input type="email" id="login-email" placeholder="Email" required>
        <input type="password" id="login-password" placeholder="Password" required>
        <button type="submit">Login</button>
        <p class="switch">Don't have an account? <a href="#" onclick="switchForm('signup')">Sign up</a></p>
        <p class="forgot"><a href="#">Forgot Password?</a></p>
      </form>
    </div>

    <div class="form-box hidden" id="signup-box">
      <h2>Sign Up</h2>
      <form onsubmit="return handleSignup(event)">
        <input type="text" id="signup-name" placeholder="Full Name" required>
        <input type="email" id="signup-email" placeholder="Email" required>
        <input type="password" id="signup-password" placeholder="Password" required>
        <button type="submit">Sign Up</button>
        <p class="switch">Already have an account? <a href="#" onclick="switchForm('login')">Login</a></p>
      </form>
    </div>
  </div>

  <script>
    function switchForm(form) {
      document.getElementById("login-box").classList.toggle("hidden", form !== "login");
      document.getElementById("signup-box").classList.toggle("hidden", form !== "signup");
    }

    function handleLogin(event) {
      event.preventDefault();
      window.location.href = "/code_explainer.html"; // simulate login redirect
      return false;
    }

    function handleSignup(event) {
      event.preventDefault();
      alert("Sign up successful. Please log in.");
      switchForm("login");
      return false;
    }
  </script>
</body>
</html>
